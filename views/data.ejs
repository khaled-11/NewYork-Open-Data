<%- include("header") -%>

<center>
  <br>
  <br>
      <h1>CISC 4800 - Project 2</h1>
  <br>
      <h2>This is the Data Page!</h2>
  
  </center>
  <br>
  
  <ul>
      <li>
  Below is a table with all 2000 enteries in one page.
      </li>
     <li>
     Next, we will perfoem analysis queries on the data.
  </li>
  <li>
    Enjoy!
 </li>
  </ul>
<center>
  <input type="button" id="btnGetCount" value="Count Rows" />
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
  <script type="text/javascript">
      $(function () {
          $("#btnGetCount").click(function () {
              var rowCount = $("#tbl td").closest("tr").length;
              var message = "Total Row Count : " + rowCount;
              alert(message);
          });
      });
  </script>
</center>

<br><br>

<div class="table-responsive-sm">
  <table class="table table-hover" id="tbl">
<thead>
  <tr>
    <th>ID</th>
    <th>Crash Time</th>
    <th>Borough</th>
    <th>Zip Code</th>
    <th>Street Name</th>
    <th>#No Injured</th>
    <th>#No Killed</th>
    <th>Reason</th>
    <th>Vehicle Type</th>
  </tr>
</thead>
<tbody>
  <% for (const crash_data of model) { %>
    <tr>
      <td><%= crash_data.collision_id %></td>
      <td><%= crash_data.crash_time %></td>
      <td><%= crash_data.borough %></td>
      <td><%= crash_data.zip_code %></td>
      <td><%= crash_data.on_street_name %></td>
      <td><%= crash_data.number_of_persons_injured %></td>
      <td><%= crash_data.number_of_persons_killed %></td>
      <td><%= crash_data.contributing_factor_vehicle_1 %></td>
      <td><%= crash_data.vehicle_type_code1 %></td>

      <td class="d-print-none">
        <a class="btn btn-sm btn-danger" href="/delete/<%= crash_data.collision_id %>">Delete</a>
      </td>
    </tr>
  <% } %>
</tbody>
</table>
</div>

<%- include("footer") -%>